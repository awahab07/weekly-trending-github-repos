(this["webpackJsonppopulat-repos-github"]=this["webpackJsonppopulat-repos-github"]||[]).push([[0],{102:function(e,t,r){"use strict";(function(e,a){var n=r(103);t.a=function(t){var r,o;if(e&&"development"===(null===(r=a)||void 0===r||null===(o=Object({NODE_ENV:"production",PUBLIC_URL:"/weekly-trending-github-repos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_BASE_URL:"https://api.github.com",REACT_APP_LAYOUT_MOBILE_BREAKPOINT:"xs"}))||void 0===o?void 0:o.NODE_ENV)&&e.hot){var i,c=e.hot.accept,l=Object(n.a)(t);try{for(l.s();!(i=l.n()).done;){i.value.call(e,c)}}catch(s){l.e(s)}finally{l.f()}}}}).call(this,r(76)(e),r(83))},119:function(e,t,r){e.exports=r(146)},146:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(13),i=r.n(o),c=r(47),l=r(195),s=r(196),u=r(101),d=r(15),p=r(39),f=r(105),m=r(198),g=r(89),v=r(30),b=r(104),h=r(64),E=r(178),y=r(200),O=r(179),R=r(69),S=Object(y.a)(Object(b.a)({palette:{primary:Object(v.a)({},h.a,{main:"#0366d6"}),secondary:E.a},typography:{fontFamily:"sans-serif"}})),j=Object(R.fade)(S.palette.secondary.light,.2),x=Object(R.fade)(S.palette.secondary.light,.4),w=Object(O.a)((function(e){return{rootWrapper:{maxWidth:"100vw",minHeight:"100vh",overflowX:"hidden"},contentWrapper:{width:"100vw",maxWidth:1024},sectionBg:{backgroundColor:e.palette.grey[200]},headLink:{textDecoration:"none",color:e.palette.primary.main,fontWeight:e.typography.h3.fontWeight,fontSize:e.typography.h3.fontSize},noBorder:{border:"none"},fadeBorder:{borderColor:j},headerBorder:{borderColor:x},success:{color:e.palette.success.dark}}})),k=r(63),T=r(183),B=r(181),P=function(e){return n.a.createElement(m.a,Object.assign({},function(e){e.relative,e.fromTop,e.fromBottom,e.fromLeft,e.fromRight;return Object(k.a)(e,["relative","fromTop","fromBottom","fromLeft","fromRight"])}(e),{component:e.clone?void 0:B.a},function(e){var t={};return!0===e.relative&&(t=Object(v.a)({},t,{position:"relative"})),void 0!==e.fromTop&&(t=Object(v.a)({},t,{position:"absolute",top:e.fromTop})),void 0!==e.fromBottom&&(t=Object(v.a)({},t,{position:"absolute",bottom:e.fromBottom})),void 0!==e.fromLeft&&(t=Object(v.a)({},t,{position:"absolute",left:e.fromLeft})),void 0!==e.fromRight&&(t=Object(v.a)({},t,{position:"absolute",right:e.fromRight})),t}(e)),e.children)},I=function(e){return n.a.createElement(P,function(e){e.variant,e.gutterBottom;return Object(k.a)(e,["variant","gutterBottom"])}(e),n.a.createElement(T.a,function(e){return{variant:e.variant,gutterBottom:e.gutterBottom}}(e),e.children))},_=r(43),A=function(e){var t=e.message,r=Object(_.a)();return n.a.createElement(I,{my:2,p:2,bgcolor:r.palette.error.contrastText,color:r.palette.error.main},t)},D=r(184),L=function(){return n.a.createElement(m.a,{position:"absolute",display:"flex",left:0,top:0,width:1,height:1,alignItems:"center",justifyContent:"center"},n.a.createElement(D.a,null))},N=r(38),U=r(197),W=r(199),C=r(192),F=r(201),H=r(189),G=r(188),z=r(190),J=r(191),Y=r(185),K=r(186),M=r(187),V=new Intl.NumberFormat,q=Object(O.a)((function(e){return{root:{maxWidth:100}}})),X=function(e){var t=e.repo,r=q();return n.a.createElement(B.a,{container:!0,direction:"row",alignItems:"baseline",spacing:2,wrap:"nowrap"},n.a.createElement(B.a,{classes:r,container:!0,item:!0,alignItems:"flex-end"},n.a.createElement(Y.a,null),n.a.createElement("strong",null,t.language)),n.a.createElement(B.a,{classes:r,container:!0,item:!0,alignItems:"flex-end"},n.a.createElement(K.a,null),function(e){return V.format(e.stargazers_count+(e.extras.starred?1:0))}(t)),n.a.createElement(B.a,{classes:r,container:!0,item:!0,alignItems:"flex-end"},n.a.createElement(M.a,null),V.format(t.forks_count)),n.a.createElement(m.a,{alignItems:"flex-end",borderRadius:"50%",width:24,height:24,clone:!0},n.a.createElement("img",{src:t.owner.avatar_url})))},$=Object(O.a)((function(e){return{repositoryLink:{textDecoration:"none",color:e.palette.primary.main,fontSize:e.typography.h2.fontSize}}})),Q=function(e){var t=$(),r=e.repo,a=e.onStarRepo;return n.a.createElement(n.a.Fragment,null,n.a.createElement(P,{container:!0,className:e.className,p:2,pt:4,alignItems:"center",borderTop:1},n.a.createElement(P,{flexDirection:"column",clone:!0,width:.9},n.a.createElement("article",null,n.a.createElement(P,{container:!0,spacing:2,alignItems:"center"},n.a.createElement(P,{width:32,clone:!0},n.a.createElement(G.a,{fontSize:"small"})),n.a.createElement("a",{className:t.repositoryLink,href:r.html_url,target:"_blank"},n.a.createElement(I,{variant:"subtitle1"},r.owner.login," / ",n.a.createElement("strong",null,r.name)))),n.a.createElement(I,{py:2,variant:"body1"},r.description),n.a.createElement(X,{repo:r}))),n.a.createElement(H.a,{color:"primary",onClick:function(){a(r)},title:r.extras.starred?"Un Star Repo":"Star Repo","aria-label":r.extras.starred?"Un Star Repo":"Star Repo"},r.extras.starred?n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(J.a,null)))))},Z=Object(O.a)((function(e){return{root:{minWidth:200}}})),ee=function(e){var t=w(),r=Z(),a=e.repositories,o=function(){var t,r;return null!==(t=null===(r=e.filters.find((function(e){return"language"===e.key})))||void 0===r?void 0:r.value)&&void 0!==t?t:null};return n.a.createElement(n.a.Fragment,null,n.a.createElement(P,{my:2,className:t.headerBorder,border:1},n.a.createElement(P,{p:4,justifyContent:"space-between",className:t.sectionBg,display:"flex",flexDirection:"row",clone:!0},n.a.createElement("section",null,n.a.createElement(F.a,{value:function(){var t,r;return null!==(t=null===(r=e.filters.find((function(e){return"starred"===e.key})))||void 0===r?void 0:r.value)&&void 0!==t?t:"false"}(),color:"primary",exclusive:!0,onChange:function(t,r){e.onUpdateFilter({key:"starred",operator:"=",value:r})},"aria-label":"Repositories All or Starred"},n.a.createElement(C.a,{value:"false","aria-label":"All Repositories"},"All Repositories"),n.a.createElement(C.a,{value:"true","aria-label":"Starred Repositories"},"Starred Repositories")),n.a.createElement(W.a,{id:"language-filter",classes:r,options:e.availableLanguages,value:o(),renderInput:function(e){return n.a.createElement(U.a,Object.assign({},e,{label:o()?"Language":"Language (Any)"}))},onChange:function(t,r,a){e.onUpdateFilter({key:"language",operator:"=",value:null!==r&&void 0!==r?r:""})}}))),a.map((function(r,a){return n.a.createElement(Q,{key:r.id,className:t.fadeBorder,repo:r,onStarRepo:e.onStarRepo})}))))},te=function(e){var t=w(),r=Object(c.c)(),o=Object(c.d)((function(e){return e.repositorySlice}),c.b),i=o.repositories,l=o.loading,s=o.error,u=Object(a.useState)([]),d=Object(f.a)(u,2),v=d[0],b=d[1];Object(a.useEffect)((function(){r(N.a.getRepositories({filters:v}))}),[v]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,null,"Github | Trending Repositories"),l?n.a.createElement(L,null):null,n.a.createElement(m.a,{display:"flex",p:2,className:t.sectionBg,flexDirection:"column",alignItems:"center",width:1,component:"section"},n.a.createElement(I,{variant:"h1"},"Trending"),n.a.createElement(I,{variant:"subtitle1"},"See which repositories are trending this week.")),s?n.a.createElement(A,{message:s}):null,n.a.createElement(ee,{repositories:i,availableLanguages:["JavaScript","Python","TypeScript","Swift","Java","PHP","Go","Rust"],filters:v,onStarRepo:function(e){r(N.a.updateRepositoryStarred({repository:e,star:!e.extras.starred,filters:v}))},onUpdateFilter:function(e){b((function(t){var r,a=t.filter((function(t){return t.key!==e.key}));return null!==(null!==(r=e.value)&&void 0!==r?r:null)&&""!==e.value?[e].concat(Object(p.a)(a)):a}))}}))},re=function(){var e=w();return n.a.createElement(l.a,{theme:S},n.a.createElement(s.a,null,n.a.createElement(u.a,null,n.a.createElement(P,{container:!0,classes:{root:e.rootWrapper},justify:"center"},n.a.createElement(P,{className:e.contentWrapper},n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/repositories"},n.a.createElement(te,null)),n.a.createElement(d.a,{exact:!0,from:"/",to:"/repositories"})))))))},ae=r(102);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=r(44),oe=r(106),ie=r(48),ce=r(31),le=r.n(ce),se=r(21),ue=le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.a)([Object(se.c)(N.b)]);case 2:case"end":return e.stop()}}),e)})),de=Object(oe.a)(),pe=[].concat(Object(p.a)(Object(ne.c)({thunk:!1})),[de]),fe=Object(ne.a)({reducer:ie.default,middleware:pe});de.run(ue);var me=fe,ge=function(){i.a.render(n.a.createElement(c.a,{store:me},n.a.createElement(n.a.StrictMode,null,n.a.createElement(re,null))),document.getElementById("root"))};ge();Object(ae.a)([function(e){e("./root.reducer",(function(){var e=r(48).default;fe.replaceReducer(e)}))},function(e){e("./app/App",ge)}]),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return k}));var a=r(44),n=Object(a.b)({name:"repositories",initialState:{repositories:[],loading:!1,error:null},reducers:{getRepositories:function(e,t){e.loading=!0,e.error=null},getRepositoriesSuccess:function(e,t){var r=t.payload.repositories;e.repositories=r,e.loading=!1,e.error=null},getRepositoriesFailure:function(e,t){e.loading=!1,e.error=t.payload},updateRepositoryStarred:function(e,t){e.loading=!0,e.error=null},updateRepositoryStarredSuccess:function(e,t){e.loading=!1,e.error=null},updateRepositoryStarredFailure:function(e,t){e.loading=!1,e.error=t.payload.error}}}),o=n.actions,i=n.reducer,c=r(31),l=r.n(c),s=r(21),u=r(39),d=r(30),p={baseUrl:"https://api.github.com"},f=r(95),m=r(70),g=r.n(m),v=r(98),b=r.n(v);g.a.defaults.headers.Accept="application/vnd.github.v3+json";var h=new f.Persistence(window),E=function(e){var t={key:"created",operator:">",value:b()().subtract(7,"days").format("YYYY-MM-DD")},r=null===e||void 0===e?void 0:e.find((function(e){return"starred"===e.key})),a=null===e||void 0===e?void 0:e.filter((function(e){return"starred"!==e.key})),n=[t].concat(Object(u.a)(null!==a&&void 0!==a?a:[])).map((function(e){return"".concat(e.key,":").concat("="===e.operator?"":e.operator).concat(e.value)})).join("+"),o=p.baseUrl+"/search/repositories?q=".concat(n,"&sort=stars&order=desc");return g.a.get(o).then((function(e){return e.data.items})).then((function(e){var t,r;return e.map((r=null!==(t=h.get("GITHUB-STARRED-REPOS"))&&void 0!==t?t:[],function(e){return Object(d.a)({},e,{extras:{starred:r.includes(e.id)}})}))})).then((function(e){if(void 0!==r){return e.filter((function(e){return"false"===r.value?!e.extras.starred:e.extras.starred}))}return e}))},y=function(e){return new Promise((function(t){var r,a=null!==(r=h.get("GITHUB-STARRED-REPOS"))&&void 0!==r?r:[];a.includes(e.id)||h.set("GITHUB-STARRED-REPOS",[].concat(Object(u.a)(a),[e.id])),t(!0)}))},O=function(e){return new Promise((function(t){var r,a=null!==(r=h.get("GITHUB-STARRED-REPOS"))&&void 0!==r?r:[];a.includes(e.id)&&h.set("GITHUB-STARRED-REPOS",a.filter((function(t){return t!==e.id}))),t(!0)}))},R=l.a.mark(x),S=l.a.mark(w),j=l.a.mark(k);function x(e){var t;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!o.getRepositories.match(e)){r.next=7;break}return r.next=4,Object(s.b)(E,e.payload.filters);case 4:return t=r.sent,r.next=7,Object(s.d)(o.getRepositoriesSuccess({repositories:t}));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(s.d)(o.getRepositoriesFailure(r.t0.message));case 13:case"end":return r.stop()}}),R,null,[[0,9]])}function w(e){var t,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!o.updateRepositoryStarred.match(e)){a.next=16;break}return t=e.payload.repository,a.prev=2,r=e.payload.star?y:O,a.next=6,Object(s.b)(r,t);case 6:return a.next=8,Object(s.d)(o.updateRepositoryStarredSuccess({repository:t}));case 8:return a.next=10,Object(s.d)(o.getRepositories({filters:e.payload.filters}));case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(2),a.next=16,Object(s.d)(o.updateRepositoryStarredFailure({repository:t,error:a.t0.message}));case 16:case"end":return a.stop()}}),S,null,[[2,12]])}function k(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(o.getRepositories.type,x);case 2:return e.next=4,Object(s.e)(o.updateRepositoryStarred.type,w);case 4:case"end":return e.stop()}}),j)}},48:function(e,t,r){"use strict";r.r(t);var a=r(18),n=r(38),o=Object(a.c)({repositorySlice:n.c});t.default=o},77:function(e,t){},78:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(96),n=r(97),o=function(){function e(t){Object(a.a)(this,e),this.storage=void 0;var r=null!==t&&void 0!==t?t:window;this.storage=r.localStorage}return Object(n.a)(e,[{key:"set",value:function(e,t){this.storage.setItem(e,JSON.stringify(t))}},{key:"get",value:function(e){var t=this.storage.getItem(e);return null===t?null:JSON.parse(t)}}]),e}()},95:function(e,t,r){"use strict";var a=r(77);r.o(a,"Persistence")&&r.d(t,"Persistence",(function(){return a.Persistence}));var n=r(78);r.d(t,"Persistence",(function(){return n.a}))}},[[119,1,2]]]);
//# sourceMappingURL=main.85e941be.chunk.js.map